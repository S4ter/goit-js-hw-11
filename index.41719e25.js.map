{"mappings":"AAAO,MAGMA,EAAiB,CAC5BC,IAHqB,qCAIrBC,SAAU,KACVC,WAAY,QACZC,YAAa,aACbC,WAAY,QCNCC,eAAAC,GAAuBC,EAAEA,EAAI,GAAEC,KAAEA,EAAO,MACrD,IACE,MAAMC,EAAc,IAAIC,gBAAgB,IACnCX,E,KACHS,E,EACAD,IAEII,QAAiBC,MAAM,2BAAeH,KAE5C,IAAKE,EAASE,GACZ,OAAwB,MAApBF,EAASG,OACJ,GAEF,CAAEC,MAAOJ,EAASG,QAE3B,MAAQE,KAAMC,SAAiBN,EAASO,OACxC,OAAOD,C,CACP,MAAOE,GACP,MAAO,CAAEJ,MAAOI,EAAEC,W,EClBtB,MAAMC,EAAkBC,IACLC,SAASC,cAAc,OAC/BC,UAAUC,IAAI,YACvB,MAAMC,EAAMJ,SAASC,cAAc,OAGnC,OAFAG,EAAIF,UAAUC,IAAI,SAClBC,EAAIC,IAAMN,EAAMO,aACTF,CAAG,EAYLtB,eAAeyB,GAAWvB,EAAEA,EAACC,KAAEA,IACpC,MAAMS,QAAeX,EAAQ,C,EAAEC,E,KAAGC,IAC9BS,EAAOF,MACTgB,MAAMd,EAAOF,OAZjB,UAAoBE,OAAEA,EAAMT,KAAEA,IAC5B,MAAMwB,EAAiBT,SAASU,cAAc,YACjC,MAATzB,IACFwB,EAAeE,UAAY,IAG7B,MAAMC,EAAWlB,EAAOmB,IAAIf,GAC5BW,EAAeK,UAAUF,E,CAQzBG,CAAW,C,OAAErB,E,KAAQT,G,CCxBvB,MAAM+B,EAAahB,SAASU,cAAc,eAE1CM,EAAWC,iBAAiB,UCFrBnC,eAAsBc,GAC3BA,EAAEsB,iBAEFtB,EAAEuB,OAAOlC,KAAKmC,MAAQ,IACtB,MAAMpC,EAAIY,EAAEuB,OAAOnC,EAAEoC,YACfb,EAAW,C,EAAEvB,EAAGC,KAAM,K,IDF9B+B,EAAWK,cAAc,IAAIC,MAAM","sources":["src/js/config.js","src/js/pixabay.js","src/js/ui.js","src/js/main.js","src/js/handlers.js"],"sourcesContent":["export const API_PATH = 'https://pixabay.com/api';\nexport const API_KEY = '36730001-9966eb2ff0700192767337e13';\n\nexport const DEFAULT_PARAMS = {\n  key: API_KEY,\n  per_page: '40',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n","import { API_PATH, DEFAULT_PARAMS } from './config.js';\n\nexport default async function pingAPI({ q = '', page = '1' }) {\n  try {\n    const querystring = new URLSearchParams({\n      ...DEFAULT_PARAMS,\n      page,\n      q,\n    });\n    const response = await fetch(`${API_PATH}?${querystring}`);\n\n    if (!response.ok) {\n      if (response.status === 400) {\n        return [];\n      }\n      return { error: response.status };\n    }\n    const { hits: photos } = await response.json();\n    return photos;\n  } catch (e) {\n    return { error: e.toString() };\n  }\n}\n","import pingAPI from './pixabay.js';\n\nconst getPhotoElement = photo => {\n  const photoDiv = document.createElement('div');\n  photoDiv.classList.add('photoDiv');\n  const img = document.createElement('img');\n  img.classList.add('photo');\n  img.src = photo.webformatURL;\n  return img;\n};\n\nfunction drawPhotos({ photos, page }) {\n  const photoContainer = document.querySelector('#gallery');\n  if (page === '1') {\n    photoContainer.innerHTML = '';\n  }\n\n  const children = photos.map(getPhotoElement);\n  photoContainer.append(...children);\n}\nexport async function loadPhotos({ q, page }) {\n  const photos = await pingAPI({ q, page });\n  if (photos.error) {\n    alert(photos.error);\n    return;\n  }\n  drawPhotos({ photos, page });\n  return;\n}\n","import { search } from './handlers.js';\n\nconst searchForm = document.querySelector('#searchForm');\n\nsearchForm.addEventListener('submit', search);\nsearchForm.dispatchEvent(new Event('submit'));\n","import { loadPhotos } from './ui.js';\n\nexport async function search(e) {\n  e.preventDefault();\n\n  e.target.page.value = '1';\n  const q = e.target.q.value;\n  await loadPhotos({ q, page: '1' });\n}\n"],"names":["$ef19e442e0cefa4b$export$ed0a8b5e284442ac","key","per_page","image_type","orientation","safesearch","async","$9b3bf443d3cc2ade$export$2e2bcd8739ae039","q","page","querystring","URLSearchParams","response","fetch","ok","status","error","hits","photos","json","e","toString","$2faff07f6008cb7d$var$getPhotoElement","photo","document","createElement","classList","add","img","src","webformatURL","$2faff07f6008cb7d$export$345071c5d7c214f4","alert","photoContainer","querySelector","innerHTML","children","map","append","$2faff07f6008cb7d$var$drawPhotos","$d706c914d748cb55$var$searchForm","addEventListener","preventDefault","target","value","dispatchEvent","Event"],"version":3,"file":"index.41719e25.js.map"}